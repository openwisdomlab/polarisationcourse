# PolarCraft - 偏振光体素解谜游戏

一个基于偏振光物理特性的体素沙盒解谜游戏，将真实的光学原理融入类似《我的世界》的游戏体验中。

## 核心概念

### 四大物理公理

1. **正交不干涉 (Orthogonality)** - 偏振角相差90°的光可以共存而互不影响
2. **马吕斯定律 (Malus Law)** - 光通过偏振片时，强度 = 原强度 × cos²(角度差)
3. **双折射分叉 (Birefringence)** - 方解石将光分裂成两束垂直偏振的光
4. **干涉叠加 (Interference)** - 同相光叠加增强，反相光叠加抵消

### 光的属性

- **方向**: 6个离散方向（上下东西南北）
- **强度**: 0-15
- **偏振角**: 0°, 45°, 90°, 135°
- **相位**: 正相(+) / 反相(-)

## 方块类型

| 方块 | 功能 |
|------|------|
| 💡 光源 (Emitter) | 发射指定偏振角的光束 |
| ▤ 偏振片 (Polarizer) | 只允许特定角度的光通过，遵循马吕斯定律 |
| ↻ 波片 (Rotator) | 旋转光的偏振角度而不损失强度 |
| ◇ 方解石 (Splitter) | 将光分裂为两束垂直偏振的光 |
| ◎ 感应器 (Sensor) | 检测特定偏振角度和强度的光 |
| ▯ 反射镜 (Mirror) | 反射光线方向 |
| ■ 实体块 (Solid) | 阻挡光线 |

## 操作说明

### 移动
- **WASD** - 前后左右移动
- **空格** - 跳跃
- **鼠标** - 视角控制

### 建造
- **左键** - 放置方块
- **右键** - 删除方块
- **R** - 旋转方块/改变偏振角度
- **1-7** - 选择方块类型

### 视角
- **V** - 切换偏振视角模式
- **H** - 显示帮助面板

### 偏振视角模式颜色
- 🔴 红色 - 0° 水平偏振
- 🟠 橙色 - 45° 斜向偏振
- 🟢 绿色 - 90° 垂直偏振
- 🔵 蓝色 - 135° 斜向偏振

## 教程关卡

1. **光与门** - 学习光源和感应器的基本使用
2. **偏振片** - 理解偏振片如何过滤光线
3. **马吕斯定律** - 体验串联偏振片的强度衰减
4. **波片旋转** - 学习无损旋转偏振方向
5. **方解石分光** - 掌握光的分裂与路由

## 开发

### 技术栈
- TypeScript
- Three.js (3D渲染)
- Vite (构建工具)

### 安装依赖
```bash
npm install
```

### 开发模式
```bash
npm run dev
```

### 构建生产版本
```bash
npm run build
```

## 物理原理

### 马吕斯定律
当线偏振光通过偏振片时：
```
I = I₀ × cos²(θ)
```
其中 θ 是光的偏振方向与偏振片透光轴之间的夹角。

### 双折射
某些晶体（如方解石）具有两个折射率，入射光会分裂成：
- **寻常光 (o光)** - 0° 偏振，继续原方向
- **非寻常光 (e光)** - 90° 偏振，发生折射

### 干涉
两束相同偏振角的光相遇时：
- **同相 (+,+)** - 强度叠加
- **反相 (+,-)** - 强度抵消

## 设计理念

> "把看不见的几何学变成看得见、摸得着的方块"

游戏的核心在于用简单的规则创造复杂的涌现行为。就像《我的世界》中的红石电路，玩家可以利用偏振光的物理特性构建：
- 光学逻辑门
- 信号复用系统
- 全息投影装置
- 隐形陷阱

## 许可证

MIT License
